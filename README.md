# README

This is a cryptocurrency watchlist application built with Ruby on Rails.
CoinRocket as it is - perfect for anyone looking to get a 360 overview on the crypto markets.

## Top Features

- Live prices, list top 200+ cryptocurrencies by market cap.
- Search and filter cryptocurrencies by name, market cap, and rank.
- Users can create an account and log in to the application.
- Users can view the details of a cryptocurrency.
- Users can add cryptocurrencies to their watchlist.
- Users can CRUD crytocurrencies from their watchlist.

## How to build the application

### 1. Gathering and Storing Data

#### 1.1 Datasets

- [CoinRanking API](https://api.coinranking.com/v2/coins).It is a free API that provides cryptocurrency data.
- [Faker Gem](https://github.com/faker-ruby/faker). It is used to generate fake users.

#### 1.2 Database ERD Diagram

![image.png](https://s2.loli.net/2023/07/06/VYB79LsMvmZOED6.png)

_Auto-generated by [RailsERD](https://voormedia.github.io/rails-erd/)_

**User Table**

| Column Name | Data Type |
| ----------- | --------- |
| email       | string    |
| password    | string    |

**Cryptocurrency Table**

| Column Name     | Data Type |
| --------------- | --------- |
| uuid            | string    |
| symbol          | string    |
| name            | string    |
| color           | string    |
| icon_url        | string    |
| market_cap      | string    |
| price           | string    |
| listed_at       | integer   |
| tier            | integer   |
| change          | string    |
| rank            | integer   |
| sparkline       | text      |
| low_volume      | boolean   |
| coinranking_url | string    |
| volume_24h      | string    |

**Watchlist Table**

| Column Name | Data Type  |
| ----------- | ---------- |
| user_id     | references |
| name        | string     |

**CryptocurrenciesWatchlists** (Join Table)

| Column Name       | Data Type  |
| ----------------- | ---------- |
| cryptocurrency_id | references |
| watchlist_id      | references |

#### 1.3 AR Models

Create the models and migrations for the tables above.

```bash

rails generate model Cryptocurrency uuid:string symbol:string name:string color:string icon_url:string market_cap:string price:string listed_at:integer tier:integer change:string rank:integer sparkline:text low_volume:boolean coinranking_url:string 24h_volume:string

rails generate model Watchlist user:references name:string

rails generate model CryptocurrenciesWatchlists cryptocurrency:references watchlist:references
```

Use Devise to generate the User model.

```bash
rails generate devise:install
rails generate devise User
rails generate devise:views
```

Run the migrations.

```bash
rails db:migrate
```

#### 1.4 Model Associations and Validations

```ruby
class User < ApplicationRecord

 has_many :watchlists
 has_many :cryptocurrencies, through: :watchlists

devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :validatable
end


class Cryptocurrency < ApplicationRecord
  has_many :cryptocurrencies_watchlists
  has_many :watchlists, through: :cryptocurrencies_watchlists

  validates :name, presence: true
  end

class Watchlist < ApplicationRecord
  belongs_to :user
  has_many :cryptocurrencies_watchlists
  has_many :cryptocurrencies, through: :cryptocurrencies_watchlists

  validates :user_id, presence: true
  validates :name, presence: true
end

class CryptocurrenciesWatchlist < ApplicationRecord
  belongs_to :cryptocurrency
  belongs_to :watchlist

  validates :cryptocurrency_id, presence: true
  validates :watchlist_id, presence: true
end
```

#### 1.5 Seed Script

```bash
rails db:seed
```

![image.png](https://s2.loli.net/2023/07/06/J4lBgCudLQ52oO3.png)

### 2. Web Site Navigation -- Done

app/controllers/home_controller.rb
app/views/page/about.html.erb
app/views/home/\_footer.html.erb
app/views/home/\_header.html.erb

config/routes.rb

```ruby
  get 'home/about', to: 'home#about'
  root 'home#index'
```

### 3 - Data Navigation

#### 3.1 List all the cryptocurrencies in a table

`app/views/cryptocurrencies/index`

path:
`cryptocurrencies_path `

#### 3.2 Display cryptocurrecy infomation by :id

`app/views/cryptocurrencies/_cryptocurrency.html.erb`
`app/views/cryptocurrencies/show.html.erb`

#### 3.3 Multi-model Data on Member Pages

On one user's watchlist page, show all followed coins.

**ðŸ”¥ 3.4** **- Hierarchical Collection Navigation -** Data can be navigated by category or hierarchically based on a one-to-many or many-to-many relationship. (This means being able to navigate via a link back and forth between the â€œshowâ€ pages of your associations. For example, category â€œshowâ€ pages that link to theÂ  â€œshowâ€ page of all items in that category, with the â€œshowâ€ pages of each item linking back to the â€œshowâ€ page of the itemâ€™s category.)

ðŸ’¡ **3.5 - Pagination -** Large collections of data are presented using pagination. (You can use the [kaminari gem](https://github.com/kaminari/kaminari) or a javascript library to implement this feature.)

**ðŸ”¥ 3.6** **- Mapping -** Location data is presented on a map (either one map for the entire collection or a separate map for each data point). This feature will only be possible for students who have imported datasets that includes addresses or GPS coordinates. In other words, you canâ€™t just add a random map to your project to get these marks. The map can be provided using the [Google Static Map API](https://developers.google.com/maps/documentation/static-maps/) or [Google Maps Javascript](https://www.driftingruby.com/episodes/plotting-points-on-a-map-from-scratch). (Google Maps API now requires a credit card to activate your API key. For low usage projects the API is still free. An alternative would be [the Map Box Static Map API](https://docs.mapbox.com/api/maps/#static).)

## 4 - Searching and Filtering

**ðŸŒŸ** ðŸ•¯ï¸ **4.1** **- Simple Search -** Users can use a simple form to perform a text search through the available data.
ç”¨æˆ·å¯ä»¥æœç´¢ï¼Œè¿™å¾ˆé‡è¦

ðŸ’¡ **4.2** **- Hierarchical Search -** A userâ€™s search can be restricted to a specific category (or other one-to-many / many-to-many relationship) using a dropdown within the search form.

### 5 - Markup and Design

**ðŸŒŸ** ðŸ•¯ï¸ **5.1** **- Valid HTML -** All HTML generated by your app validates as HTML5 with no errors.
HTML è®¾è®¡ï¼Œé€åˆ†

ðŸ•¯ï¸ **5.2 - ERB Conditional -** At least one of your ERB views includes a conditional (if or unless). _Donâ€™t use the Demo example, use your own!_

ðŸ’¡ **5.3** **- Bootstrap Grid -** You built your markup and styling around the Bootstrap or Bulma CSS frameworks (or a similar framework). **_At a minimum_** your layout should be built around your frameworkâ€™s **_grid system_**.
è¿™ä¸ªä¹Ÿæ˜¯é€åˆ†çš„ã€‚

### 6 - Source Control

**ðŸŒŸ** ðŸ•¯ï¸ **6.1** **- GIT and GitHub -** You have configured git and github to keep your source under control with the ability to push from master to origin.
é€åˆ†çš„

ðŸ•¯ï¸ **6.2** **- 20 GIT Commits -** Youâ€™ve used git to keep your source under control _with a minimum of 20 commits._ Commits must be accompanied by reasonable commit messages.
é€åˆ†çš„
